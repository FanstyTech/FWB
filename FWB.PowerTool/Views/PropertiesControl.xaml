<UserControl x:Class="FWB.PowerTool.Views.PropertiesControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:FWB.PowerTool.ViewModels"
             mc:Ignorable="d" 
             Background="#1e1e22"
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/FWB.PowerTool;component/Styles/ButtonStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <StackPanel Margin="20">
        <!-- Header with Property Type and Name -->
        <Grid Background="#393939" Height="60" VerticalAlignment="Top"  >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Text="Property Type" Foreground="White" VerticalAlignment="Center" Margin="20,0,0,0"/>
            <TextBlock Grid.Column="1" Text="Property Name" Foreground="White" VerticalAlignment="Center" Margin="20,0,0,0"/>
            <Button Grid.Column="2" Content="ADD NEW PROPERTY" Width="130"
                    Background="#03b878" Foreground="White" 
                    Padding="15,5" Margin="10,14,10,14" 
                    BorderThickness="0"
                    Style="{StaticResource GreenButtonStyle}"
                    Command="{Binding DataContext.AddPropertyCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
        </Grid>

        <!-- Properties List -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="300" MinHeight="300">
            <ItemsControl x:Name="PropertiesList" ScrollViewer.CanContentScroll="True" Padding="20" Background="#292929"
                          ItemsSource="{Binding DataContext.Properties, RelativeSource={RelativeSource AncestorType=Window}}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <!-- Item design template -->
                        <Grid Background="#1e1e22" Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Background="#393939" Height="40" Grid.Column="0" VerticalAlignment="Center">
                                <TextBlock Text="{Binding Type}"  Margin="10,3,0,0" Padding="5" Foreground="White" FontSize="16" Height="39"/>
                            </StackPanel>
                            <TextBlock Text="{Binding Name}" Margin="10,0,0,0" Grid.Column="1" Padding="5" Foreground="White" FontSize="16" VerticalAlignment="Center"/>
                            <StackPanel Orientation="Horizontal" Grid.Column="2" HorizontalAlignment="Right" Margin="0,0,5,0">
                                <Button Content="Edit" Width="80" Height="30" Background="Transparent" Foreground="White" Padding="0" BorderThickness="1" Command="{Binding EditCommand}"/>
                                <Button Content="Delete" Margin="10,0,0,0" Width="80" Height="30" Background="Transparent" Foreground="White" Padding="0" BorderThickness="1" Command="{Binding DeleteCommand}"/>
                            </StackPanel>
                        </Grid>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </StackPanel>
</UserControl>
